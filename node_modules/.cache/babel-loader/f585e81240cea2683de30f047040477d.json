{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\"; // action types\n// we dont need anymore\n\nlet lastId = 0;\nconst slice = createSlice({\n  name: \"carts\",\n  initialState: {\n    list: [],\n    loading: false,\n    lastFetch: null,\n    lastAdded: null,\n    msg: ''\n  },\n  reducers: {\n    added: (carts, action) => {\n      if (carts.list.length > 0) {\n        const id = carts.list.findIndex(cart => cart.id === action.prayload.id);\n\n        if (id >= 0) {\n          carts.msg = \"The Article is already added\";\n          carts.list[id].qta = carts.list[id].qta ? ++carts.list[id].qta : 1; //setCartItems(cartItems_clone);\n        } else {\n          carts.msg = \"The Article added\"; // setCartItems([...cartItems_clone, { ...product, qta: 1 }]);\n        }\n      } else {\n        carts.msg = \"The Article added\"; // setCartItems([{ ...product, qta: 1 }]);\n      }\n\n      carts.list.push({\n        id: ++lastId,\n        description: action.payload.description\n      });\n      carts.lastAdded = {\n        id: lastId,\n        description: action.payload.description\n      };\n    },\n    fetched: (carts, action) => {\n      carts.list = action.payload;\n    },\n    sorted: (carts, action) => {\n      carts.list.sort(function (a, b) {\n        if (action.payload.sort === \"asc\") {\n          return a.price > b.price ? 1 : -1;\n        } else if (action.payload.sort === \"desc\") {\n          return a.price < b.price ? 1 : -1;\n        } else {\n          return a.id > b.id ? 1 : -1;\n        }\n      });\n    },\n    removed: (carts, action) => {\n      carts.list = carts.list.filter(product => action.payload.id !== product.id); // const index = carts.list.findIndex(product => action.payload.id !== product.id);\n      // carts.list.slice(index,1);\n    }\n  }\n});\nexport const {\n  added,\n  fetched,\n  removed,\n  sorted\n} = slice.actions; //export const selectAllcarts = state => state.entities.carts;\n\nexport default slice.reducer;","map":{"version":3,"sources":["/home/ciro/project/react-shopping-cart/src/store/cart.js"],"names":["createSlice","lastId","slice","name","initialState","list","loading","lastFetch","lastAdded","msg","reducers","added","carts","action","length","id","findIndex","cart","prayload","qta","push","description","payload","fetched","sorted","sort","a","b","price","removed","filter","product","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n// action types\n// we dont need anymore\nlet lastId = 0;\nconst slice = createSlice({\n    name:\"carts\",\n    initialState:{\n        list:[],\n        loading:false,\n        lastFetch:null,\n        lastAdded:null,\n        msg:''\n    },\n    reducers:{\n        added: (carts, action) => {\n\n\n            if (carts.list.length > 0) {\n                const id = carts.list.findIndex((cart) => cart.id === action.prayload.id);\n          \n                if (id >= 0) {\n                    carts.msg = \"The Article is already added\";\n                    carts.list[id].qta = (carts.list[id].qta ? ++carts.list[id].qta : 1);\n                    //setCartItems(cartItems_clone);\n                } else {\n                  carts.msg = \"The Article added\";\n                  // setCartItems([...cartItems_clone, { ...product, qta: 1 }]);\n                }\n            } else {\n                carts.msg = \"The Article added\";\n                // setCartItems([{ ...product, qta: 1 }]);\n            }\n\n            carts.list.push({\n                id:++lastId,\n                description: action.payload.description\n            });\n\n            carts.lastAdded = {\n                id: lastId,\n                description: action.payload.description\n            };\n        },\n        fetched: (carts, action) => {\n            carts.list = action.payload;\n        },\n        sorted: (carts, action) => {\n\n            carts.list.sort(function (a, b) {\n                if (action.payload.sort === \"asc\") {\n                  return a.price > b.price ? 1 : -1;\n                } else if (action.payload.sort === \"desc\") {\n                  return a.price < b.price ? 1 : -1;\n                } else {\n                  return a.id > b.id ? 1 : -1;\n                }\n            });\n        },\n        removed: (carts, action) => {\n            carts.list = carts.list.filter(product => action.payload.id !== product.id);\n            // const index = carts.list.findIndex(product => action.payload.id !== product.id);\n            // carts.list.slice(index,1);\n        },\n    }\n});\n\nexport const {added, fetched, removed, sorted} = slice.actions;\n//export const selectAllcarts = state => state.entities.carts;\nexport default slice.reducer;"]},"metadata":{},"sourceType":"module"}